{% extends 'layout.html' %}

{% block title %}Página Inicial{% endblock %}

{% block content %}
<div class="home-container">
    <h2>Bem-vindo, {{ username }}!</h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <div class="content-box">
        <h3>Painel de Monitoramento Rural</h3>
        <p>Acompanhe em tempo real os dados dos sensores da sua fazenda.</p>
        
        <div class="sensor-grid">
            <div class="sensor-card">
                <div class="sensor-header">
                    <span>Temperatura</span>
                </div>
                <div class="sensor-body">
                    <div class="sensor-value">24.5<span class="sensor-unit">°C</span></div>
                    <p>Estação Central</p>
                    <div class="sensor-time">Última leitura: 11/05/2025 15:30</div>
                </div>
            </div>
            
            <div class="sensor-card">
                <div class="sensor-header">
                    <span>Umidade do Solo</span>
                </div>
                <div class="sensor-body">
                    <div class="sensor-value">78<span class="sensor-unit">%</span></div>
                    <p>Setor Norte - Plantação de Milho</p>
                    <div class="sensor-time">Última leitura: 11/05/2025 15:45</div>
                </div>
            </div>
            
            <div class="sensor-card">
                <div class="sensor-header">
                    <span>Precipitação</span>
                </div>
                <div class="sensor-body">
                    <div class="sensor-value">0<span class="sensor-unit">mm</span></div>
                    <p>Estação Central</p>
                    <div class="sensor-time">Última leitura: 11/05/2025 15:30</div>
                </div>
            </div>
            
            <div class="sensor-card">
                <div class="sensor-header">
                    <span>Nível do Reservatório</span>
                </div>
                <div class="sensor-body">
                    <div class="sensor-value">65<span class="sensor-unit">%</span></div>
                    <p>Reservatório Principal</p>
                    <div class="sensor-time">Última leitura: 11/05/2025 14:15</div>
                </div>
            </div>
        </div>
        
        <div class="action-buttons" style="margin-top: 25px; text-align: center;">
            <a href="{{ url_for('realtime') }}" class="btn btn-primary">
                <i class="fas fa-chart-line"></i> Visualizar Dados em Tempo Real
            </a>
        </div>
        
        {% if is_admin %}
        <div class="admin-section">
            <h4>Opções de Administrador</h4>
            <p>Como administrador, você tem acesso a funcionalidades adicionais:</p>
            <div class="admin-buttons">
                <a href="{{ url_for('admin_users') }}" class="btn btn-primary">Gerenciar Usuários</a>
                <a href="{{ url_for('admin_sensors') }}" class="btn btn-primary">Gerenciar Sensores</a>
                <a href="{{ url_for('admin_atuadores') }}" class="btn btn-primary">Gerenciar Atuadores</a>
            </div>
        </div>
        {% endif %}
    </div>
    
    <a href="{{ url_for('logout') }}" class="btn btn-logout">Sair do Sistema</a>
</div>
{% endblock %}
